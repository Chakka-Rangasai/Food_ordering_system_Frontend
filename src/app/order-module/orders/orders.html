<div class="orders-container">
  <h2 class="section-title">My Orders</h2>

  @for (group of groupedOrders; track group.restaurantId) {
    <div class="restaurant-card">
      <div class="restaurant-header" (click)="toggleRestaurant(group.restaurantId)">
        <div>
          <h4  class="fw-bold text-dark mb-1" >{{ group.restaurantName }}</h4>
          <p class="order-count">{{ group.orders.length }} items</p>
          <p class="order-date">ðŸ“… {{ group.orders[0].dateTime | date:'medium' }}</p>
        </div>
        <div class="order-status">
          <button class="status-btn">Placed</button>
        </div>
        <button class="toggle-btn">
          @if (expandedRestaurant === group.restaurantId) {
            âœ–
          } @else {
            â–¼
          }
        </button>
      </div>

      @if (expandedRestaurant === group.restaurantId) {
        <div class="order-list">
          @for (order of group.orders; track order.orderId) {
            <div class="order-row">
              <div class="order-left">
                <h5 class="order-name">{{ order.name }}</h5>
                <p class="order-meta">
                  Qty: {{ order.quantity }} â€¢ â‚¹{{ order.price * order.quantity }}
                </p>
              </div>
              <div class="order-right">
                <span class="badge food-type"
                      [ngClass]="order.foodType === 'Veg' ? 'veg' : 'nonveg'">
                  {{ order.foodType }}
                </span>
              </div>
            </div>
          }
        </div>
      }
    </div>
  }
</div>
